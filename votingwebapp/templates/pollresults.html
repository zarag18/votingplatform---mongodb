{% extends 'base.html' %}

{% block content %}
<div class="container result-container">
    <div class="sub-container text-center"> <!-- Added text-center class -->
        <div style="padding-top: 20px; padding-bottom: 20px;"></div>
        <h2> Poll Results</h2>

        {% for category in category %}
            <h4>{{ category.title }}</h4>
            <br>
            <br>
            
            {% for item in category_items %}
                {% if item.category_id == category.id %}
                    <small>{{ item.title }}</strong> --- {{ item.total_vote }} vote{{ item.total_vote | pluralize }} ---  <strong>[voted]</strong></small> 
                    <div class="progressContainer">
                        <div class="progress">
                            <div class="progress-bar"
                                role="progressbar"
                                aria-label="Example with label"
                                style="width:{{ item.percentage_vote | floatformat:2 }}%;"
                                aria-valuenow="25"
                                aria-valuemin="0"
                                aria-valuemax="100"
                            >
                            {{ item.percentage_vote | floatformat:2 }}%
                            </div>
                        </div>
                    </div>
                    <br>
                {% endif %}
            {% endfor %}
            <br>
        {% endfor %}

        <li class="nav-item"><a class="nav-link" href="{% url 'index' %}"><button class="btn btn-primary"> Back to Home </button></a></li>
        <div style="padding-top: 20px; padding-bottom: 20px;"></div>
    </div>
</div>
{% endblock content %}




